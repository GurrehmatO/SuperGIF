(this["webpackJsonpsuper-gif"]=this["webpackJsonpsuper-gif"]||[]).push([[0],{114:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(12),c=n.n(i),o=(n(87),n(78)),l=n(145),s=n(23),u=n(19),d=n(70);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var f={typography:{fontFamily:["Zilla Slab","-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",")},palette:{primary:{main:"#95C9FF"}}},m=n(77),h=n(11),p=n(7),g=n(27),O=n(135),b=n(138),E=n(3),j=n(71),y=function(e){var t=e.classes,n=e.imageData;return r.a.createElement(j.Img,{alt:n.id,className:t.listImage,src:n.images.fixed_width_small.url,loader:r.a.createElement("div",{style:{height:5*n.images.fixed_width_small.height/4,width:"100%",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},className:t.listImage},r.a.createElement(O.a,null))})},v=n(139),S=n(140),w=n(141),I={header:{backgroundColor:"#fff",display:"flex",flexDirection:"column",alignItems:"center"},title:{fontSize:48,color:"#000",fontWeight:"bold",margin:12,transition:"0.2s"},titleShrunk:{fontSize:32}},_="Search",x="Trending",N=n(75),k=function(e,t){var n=Object(a.useState)(e),r=Object(g.a)(n,2),i=r[0],c=r[1];return Object(a.useEffect)((function(){var n=setTimeout((function(){c(e)}),t);return function(){clearTimeout(n)}}),[e,t]),i},L=function(e){return Object.keys(e).map((function(t){return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(e[t]))})).join("&")},T=Object(b.a)(I),C=function(){var e=T(I),t=Object(v.a)({disableHysteresis:!0,threshold:0}),n=k(t,125);return r.a.createElement(S.a,{position:"sticky",className:e.header,elevation:n?6:0},r.a.createElement(w.a,{className:Object(E.a)(e.title,n&&e.titleShrunk)},"Super GIF"))},D=n(29),R=n.n(D),M="EBwOiGqfDkDOzuwUQGL0sjsV2lP0rjI7",A="https://api.giphy.com/v1",F={search:"/gifs/search",trending:"/gifs/trending",trends:"/trending/searches",autocomplete:"/gifs/search/tags"},G=n(26),P=n(148),U=n(76),q=n.n(U),W=n(38),z=n.n(W),B=n(42),H=Object(b.a)((function(e){return{trendsContainer:Object(B.a)({transition:"0.2s",background:"#fff",display:"flex",flexDirection:"row",overflowX:"scroll"},e.breakpoints.up("sm"),{overflowX:"unset",flexWrap:"wrap",justifyContent:"center"}),chip:{display:"flex",flexDirection:"row",marginLeft:8,fontWeight:"800",marginBottom:8,fontSize:16,boxShadow:"0px 2px 4px -1px rgba(0,0,0,0.2), 0px 4px 5px 0px rgba(0,0,0,0.14), 0px 1px 10px 0px rgba(0,0,0,0.12);"},selectedChip:{border:"2px solid #1F4788",color:"#1F4788"},searchChip:{"& .MuiChip-label":{paddingLeft:"unset"}}}})),X=function(e){var t=H(),n=Object(u.c)((function(e){return e.trends})),a=e.selectedTrend,i=e.setTrend,c=e.setSearch,o=e.searchLabel,l=Object(v.a)({disableHysteresis:!0,threshold:0}),s=k(l,125);return r.a.createElement(S.a,{className:t.trendsContainer,elevation:0,position:"sticky",style:{top:s?71:96}},[_,x].concat(Object(G.a)(n.list)).map((function(e){return r.a.createElement(P.a,{label:e===_?o:e,icon:function(){switch(e){case _:return r.a.createElement(z.a,null);case x:return r.a.createElement(q.a,null);default:return}}(),key:e,onClick:e===_&&o?void 0:function(){e===_?c((function(e){return Object(p.a)(Object(p.a)({},e),{},{dialogOpen:!0})})):(i(e===x?null:e),c((function(e){return Object(p.a)(Object(p.a)({},e),{},{searchMode:!1})})))},clickable:!(e===_&&o),onDelete:e===_&&o?function(){c((function(e){return Object(p.a)(Object(p.a)({},e),{},{searchMode:!1})}))}:void 0,className:Object(E.a)(t.chip,(o?e===_:a===e||null===a&&e===x)&&t.selectedChip,e===_&&!o&&t.searchChip),color:"primary"})})))},J=n(146),V=n(142),Q=n(147),Z=n(143),$=n(144),K=n(149),Y=function(e){var t={q:e,api_key:M},n=R.a.get("".concat(A).concat(F.autocomplete,"?").concat(L(t)));return function(t){t({type:"AUTOCOMPLETE_LOADING"}),n.then((function(n){var a=n.data;t({type:"AUTOCOMPLETE_RESPONSE",payload:{list:a.data,query:e}})}))}},ee=function(){return function(e){return e({type:"CLEAR_AUTOCOMPLETE"})}},te=Object(b.a)((function(){return{dialog:{display:"flex",flexDirection:"column",alignItems:"center"},searchField:{width:"100%",minWidth:275,fontWeight:"bold"},loader:{marginTop:16},list:{width:"100%"},suggestion:{display:"flex",jfd:"row",alignItems:"center"},searchIcon:{marginRight:8}}})),ne=function(e){var t=te(),n=Object(u.c)((function(e){return e.autocomplete})),i=Object(u.b)(),c=e.config,o=e.setSearch,l=k(c.key,500);Object(a.useEffect)((function(){i((""===l?ee:Y)(l||void 0))}),[i,l]);return r.a.createElement(J.a,{open:c.dialogOpen,onClose:function(){return o((function(e){return Object(p.a)(Object(p.a)({},e),{},{dialogOpen:!1})}))}},r.a.createElement(V.a,{className:t.dialog},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),o((function(e){return Object(p.a)(Object(p.a)({},e),{},{dialogOpen:!1,searchMode:!0})}))}},r.a.createElement(Q.a,{placeholder:"Search for GIFs",value:c.key,variant:"outlined",autoFocus:!0,className:t.searchField,onChange:function(e){e.persist(),o((function(t){return Object(p.a)(Object(p.a)({},t),{},{key:e.target.value})}))},endAdornment:r.a.createElement(Z.a,{type:"submit"},r.a.createElement(z.a,null))}),n.loading?r.a.createElement(O.a,{size:40,className:t.loader}):null,c.key&&n.query===c.key&&r.a.createElement($.a,{className:t.list},[{name:c.key}].concat(Object(G.a)(n.list)).map((function(e){var n,a=e.name;return r.a.createElement(K.a,{key:a,button:!0,divider:!0,onClick:(n=a,function(){o({key:n,dialogOpen:!1,searchMode:!0})}),className:t.suggestion},r.a.createElement(z.a,{className:t.searchIcon}),a)}))))))},ae=Object(b.a)((function(){return{root:{width:"100vw",minHeight:"calc(100vh - 96px)",display:"flex",flexDirection:"column",alignItems:"center"},masonryContainer:{width:"100vw",display:"flex",flexDirection:"row",alignItems:"center"},masonry:{width:"90%",margin:"0 auto",display:"flex",flexDirection:"row",justifyContent:"stretch"},column:{minWidth:150,marginRight:12,flexGrow:1,"&:last-child":{marginRight:"unset"}},brick:{margin:"6px 0",width:"100%"},listImage:{width:"100%",borderRadius:3},loader:{margin:"0 auto"},invisible:{opacity:1}}})),re=function(){var e=ae(),t=Object(u.c)((function(e){return e.gifList})),n=Object(u.b)(),i=Object(a.useState)(null),c=Object(g.a)(i,2),o=c[0],l=c[1],s=Object(a.useState)(0),d=Object(g.a)(s,2),f=d[0],m=d[1],h=Object(a.useRef)(null);!function(e,t,n){var r=Object(a.useCallback)((function(e){new IntersectionObserver((function(e){e.forEach((function(e){e.intersectionRatio>t&&n((function(e){return e+1}))}))})).observe(e)}),[n,t]);Object(a.useEffect)((function(){e.current&&r(e.current)}),[r,e])}(h,0,m);var b=function(){var e="object"===typeof window;function t(){return{width:e?window.innerWidth:void 0,height:e?window.innerHeight:void 0}}var n=Object(a.useState)(t),r=Object(g.a)(n,2),i=r[0],c=r[1];return Object(a.useEffect)((function(){if(!e)return!1;function n(){c(t())}return window.addEventListener("resize",n),function(){return window.removeEventListener("resize",n)}}),[]),i}().width,j=Math.min(Math.floor(.9*b/162),6),v=Object(a.useMemo)((function(){return function(e,t,n){var a=[];return Array(n).fill().forEach((function(){a.push({height:0,list:[]})})),e.forEach((function(e){var n=a.reduce((function(e,t,n){return t.height<a[e].height?n:e}),0);a[n].list.push(e);var r=parseInt(Object(N.get)(e,t,200),10);a[n].height+=r})),a}(t.list,"images.fixed_width_small.height",j)}),[t.list,j]),S=Object(a.useState)({key:"",dialogOpen:!1,searchMode:!1}),w=Object(g.a)(S,2),I=w[0],_=w[1];return Object(a.useEffect)((function(){n(function(){var e={api_key:M},t=R.a.get("".concat(A).concat(F.trends,"?").concat(L(e)));return function(e){e({type:"TRENDS_LIST_LOADING"}),t.then((function(t){var n=t.data;e({type:"TRENDS_LIST_RESPONSE",payload:n})}))}}())}),[n]),Object(a.useEffect)((function(){n((function(e){return e({type:"CLEAR_GIF_LIST"})})),m(0)}),[n,o,I.searchMode]),Object(a.useEffect)((function(){n(function(e,t){var n=Object(p.a)(Object(p.a)({},t),{},{api_key:M}),a=R.a.get("".concat(A).concat(F[e],"?").concat(L(n)));return function(e){e({type:"GIF_LIST_LOADING"}),a.then((function(t){var n=t.data;e({type:"GIF_LIST_RESPONSE",payload:n})}))}}(o||I.searchMode?"search":"trending",Object(p.a)(Object(p.a)({limit:10,offset:10*f},o&&{q:o}),I.searchMode&&{q:I.key})))}),[n,o,f,I.searchMode]),r.a.createElement("div",{className:e.root},r.a.createElement(C,null),r.a.createElement(X,{selectedTrend:o,setTrend:l,setSearch:_,searchLabel:I.searchMode?I.key:""}),r.a.createElement("div",{className:e.masonryContainer},r.a.createElement("div",{className:e.masonry},v.map((function(t){return r.a.createElement("div",{className:e.column},t.list.map((function(t){return r.a.createElement("div",{className:e.brick,key:t.id},r.a.createElement(y,{classes:e,imageData:t}))})))})))),r.a.createElement(O.a,{ref:h,className:Object(E.a)(e.loader,!t.loading&&e.invisible)}),r.a.createElement(ne,{config:I,setSearch:_}))},ie=function(){return r.a.createElement(m.a,{basename:"/SuperGIF"},r.a.createElement(h.c,null,r.a.createElement(h.a,{exact:!0,path:"/",component:re})))},ce={loading:!1,list:[],pagination:{}},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case"GIF_LIST_LOADING":return Object(p.a)(Object(p.a)({},e),{},{loading:!0});case"GIF_LIST_RESPONSE":return{loading:!1,list:[].concat(Object(G.a)(e.list),Object(G.a)(n.data)),pagination:n.pagination};case"CLEAR_GIF_LIST":return Object(p.a)({},ce);default:return e}},le={loading:!1,list:[]},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case"TRENDS_LIST_LOADING":return{loading:!0,list:[]};case"TRENDS_LIST_RESPONSE":return{loading:!1,list:n.data};default:return e}},ue={loading:!1,list:[],query:""},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case"AUTOCOMPLETE_LOADING":return Object(p.a)(Object(p.a)({},e),{},{loading:!0,list:[]});case"AUTOCOMPLETE_RESPONSE":return{loading:!1,list:n.list,query:n.query};case"CLEAR_AUTOCOMPLETE":return ue;default:return e}},fe=Object(s.c)({gifList:oe,trends:se,autocomplete:de}),me=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.d,he=Object(s.e)(fe,me(Object(s.a)(d.a))),pe=Object(o.a)(f);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(u.a,{store:he},r.a.createElement(l.a,{theme:pe},r.a.createElement(ie,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},82:function(e,t,n){e.exports=n(114)},87:function(e,t,n){}},[[82,1,2]]]);
//# sourceMappingURL=main.246ed213.chunk.js.map