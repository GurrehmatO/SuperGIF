(this["webpackJsonpsuper-gif"]=this["webpackJsonpsuper-gif"]||[]).push([[0],{66:function(e,t,n){e.exports=n(99)},71:function(e,t,n){},99:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(17),c=n.n(r),o=(n(71),n(64)),l=n(120),s=n(18),u=n(20),f=n(56);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var d={typography:{fontFamily:["Zilla Slab","-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",")},palette:{primary:{main:"#95C9FF"}}},m=n(63),h=n(4),g=n(16),p=n(22),b=n(119),O=n(115),E=n(57),j=n(3),v=n(117),y=n(122),w=n(118),S={header:{backgroundColor:"#fff",display:"flex",flexDirection:"column",alignItems:"center"},title:{fontSize:48,color:"#000",fontWeight:"bold",margin:12,transition:"0.2s"},titleShrunk:{fontSize:32}},I=n(58),_=function(e,t){var n=Object(a.useState)(e),i=Object(p.a)(n,2),r=i[0],c=i[1];return Object(a.useEffect)((function(){var n=setTimeout((function(){c(e)}),t);return function(){clearTimeout(n)}}),[e,t]),r},N=function(e){return Object.keys(e).map((function(t){return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(e[t]))})).join("&")},T=Object(O.a)(S),x=function(){var e=T(S),t=Object(v.a)({disableHysteresis:!0,threshold:0}),n=_(t,125);return i.a.createElement(y.a,{position:"sticky",className:e.header,elevation:n?6:0},i.a.createElement(w.a,{className:Object(j.a)(e.title,n&&e.titleShrunk)},"Super GIF"))},k=n(35),L=n.n(k),C="EBwOiGqfDkDOzuwUQGL0sjsV2lP0rjI7",D={search:"/gifs/search",trending:"/gifs/trending",trends:"/trending/searches"},R=n(27),G=n(121),F=n(62),A=n.n(F),U=n(29),W=Object(O.a)((function(e){return{trendsContainer:Object(U.a)({transition:"0.2s",background:"#fff",display:"flex",flexDirection:"row",overflowX:"scroll"},e.breakpoints.up("sm"),{overflowX:"unset",flexWrap:"wrap",justifyContent:"center"}),chip:{display:"flex",flexDirection:"row",marginLeft:8,fontWeight:"800",marginBottom:8,fontSize:16},selectedChip:{border:"2px solid #1F4788",color:"#1F4788"}}})),z=function(e){var t=W(),n=Object(u.c)((function(e){return e.trends})),a=e.selectedTrend,r=e.setTrend,c=Object(v.a)({disableHysteresis:!0,threshold:0}),o=_(c,125);return i.a.createElement(y.a,{className:t.trendsContainer,elevation:0,position:"sticky",style:{top:o?71:96}},["Trending"].concat(Object(R.a)(n.list)).map((function(e){return i.a.createElement(G.a,{label:e,icon:"Trending"===e?i.a.createElement(A.a,null):void 0,key:e,onClick:function(){return r("Trending"===e?null:e)},clickable:!0,className:Object(j.a)(t.chip,(a===e||null===a&&"Trending"===e)&&t.selectedChip),color:"primary"})})))},P=Object(O.a)((function(){return{root:{width:"100vw",minHeight:"calc(100vh - 96px)",display:"flex",flexDirection:"column",alignItems:"center"},masonryContainer:{width:"100vw",display:"flex",flexDirection:"row",alignItems:"center"},masonry:{width:"90%",margin:"0 auto",display:"flex",flexDirection:"row",justifyContent:"stretch"},column:{minWidth:150,marginRight:12,flexGrow:1,"&:last-child":{marginRight:"unset"}},brick:{margin:"6px 0",width:"100%"},listImage:{width:"100%",borderRadius:3},loader:{margin:"0 auto"},invisible:{opacity:1}}})),B=function(){var e=P(),t=Object(u.c)((function(e){return e.gifList})),n=Object(u.b)(),r=Object(a.useState)(null),c=Object(p.a)(r,2),o=c[0],l=c[1],s=Object(a.useState)(0),f=Object(p.a)(s,2),d=f[0],m=f[1],h=Object(a.useRef)(null);!function(e,t,n){var i=Object(a.useCallback)((function(e){new IntersectionObserver((function(e){e.forEach((function(e){e.intersectionRatio>t&&n((function(e){return e+1}))}))})).observe(e)}),[n,t]);Object(a.useEffect)((function(){e.current&&i(e.current)}),[i,e])}(h,0,m);var O=function(){var e="object"===typeof window;function t(){return{width:e?window.innerWidth:void 0,height:e?window.innerHeight:void 0}}var n=Object(a.useState)(t),i=Object(p.a)(n,2),r=i[0],c=i[1];return Object(a.useEffect)((function(){if(!e)return!1;function n(){c(t())}return window.addEventListener("resize",n),function(){return window.removeEventListener("resize",n)}}),[]),r}().width,v=Math.floor(.9*O/162),y=Object(a.useMemo)((function(){return function(e,t,n){var a=[];return Array(n).fill().forEach((function(){a.push({height:0,list:[]})})),e.forEach((function(e){var n=a.reduce((function(e,t,n){return t.height<a[e].height?n:e}),0);a[n].list.push(e);var i=parseInt(Object(I.get)(e,t,200),10);a[n].height+=i})),a}(t.list,"images.fixed_width_small.height",v)}),[t.list,v]);return Object(a.useEffect)((function(){n(function(){var e={api_key:C},t=L.a.get("".concat("https://api.giphy.com/v1").concat(D.trends,"?").concat(N(e)));return function(e){e({type:"TRENDS_LIST_LOADING"}),t.then((function(t){var n=t.data;e({type:"TRENDS_LIST_RESPONSE",payload:n})}))}}())}),[n]),Object(a.useEffect)((function(){n((function(e){return e({type:"CLEAR_GIF_LIST"})})),m(0)}),[n,o]),Object(a.useEffect)((function(){n(function(e,t){var n=Object(g.a)(Object(g.a)({},t),{},{api_key:C}),a=L.a.get("".concat("https://api.giphy.com/v1").concat(D[e],"?").concat(N(n)));return function(e){e({type:"GIF_LIST_LOADING"}),a.then((function(t){var n=t.data;e({type:"GIF_LIST_RESPONSE",payload:n})}))}}(o?"search":"trending",Object(g.a)({limit:10,offset:10*d},o&&{q:o})))}),[n,o,d]),i.a.createElement("div",{className:e.root},i.a.createElement(x,null),i.a.createElement(z,{selectedTrend:o,setTrend:l}),i.a.createElement("div",{className:e.masonryContainer},i.a.createElement("div",{className:e.masonry},y.map((function(t){return i.a.createElement("div",{className:e.column},t.list.map((function(t){return i.a.createElement("div",{className:e.brick,key:t.id},i.a.createElement(E.Img,{alt:t.id,className:e.listImage,src:t.images.fixed_width_small.url,loader:i.a.createElement("div",{style:{height:7*t.images.fixed_width_small.height/8,width:"100%",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},className:e.listImage},i.a.createElement(b.a,null))}))})))})))),i.a.createElement(b.a,{ref:h,className:Object(j.a)(e.loader,!t.loading&&e.invisible)}))},H=function(){return i.a.createElement(m.a,{basename:"/SuperGIF"},i.a.createElement(h.c,null,i.a.createElement(h.a,{exact:!0,path:"/",component:B})))},M={loading:!1,list:[],pagination:{}},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case"GIF_LIST_LOADING":return Object(g.a)(Object(g.a)({},e),{},{loading:!0});case"GIF_LIST_RESPONSE":return{loading:!1,list:[].concat(Object(R.a)(e.list),Object(R.a)(n.data)),pagination:n.pagination};case"CLEAR_GIF_LIST":return Object(g.a)({},M);default:return e}},q={loading:!1,list:[]},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case"TRENDS_LIST_LOADING":return{loading:!0,list:[]};case"TRENDS_LIST_RESPONSE":return{loading:!1,list:n.data};default:return e}},V=Object(s.c)({gifList:X,trends:J}),Q=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.d,Z=Object(s.e)(V,Q(Object(s.a)(f.a))),$=Object(o.a)(d);c.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(u.a,{store:Z},i.a.createElement(l.a,{theme:$},i.a.createElement(H,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[66,1,2]]]);
//# sourceMappingURL=main.ff0bdf62.chunk.js.map