(this["webpackJsonpsuper-gif"]=this["webpackJsonpsuper-gif"]||[]).push([[0],{119:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(12),r=a.n(i),o=(a(92),a(80)),l=a(152),s=a(25),u=a(19),d=a(71);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var m={typography:{fontFamily:["Zilla Slab","-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",")},palette:{primary:{main:"#95C9FF"}}},f=a(79),g=a(11),h=a(8),p=a(21),b=a(142),O=a(143),E=a(3),j=a(45),y=a(139),v=function(e){var t=e.classes,a=e.imageData,n=e.setDialog;return c.a.createElement(y.a,{style:{padding:0,width:"100%"},onClick:function(){return n({imageData:a,open:!0})}},c.a.createElement(j.Img,{alt:a.id,className:t.listImage,src:a.images.fixed_width_downsampled.url,loader:c.a.createElement("div",{style:{height:7*a.images.fixed_width_downsampled.height/8,width:"100%"},className:t.listImage},c.a.createElement(b.a,{style:{margin:"auto"}}))}))},S=a(144),w=a(145),I=a(81),_={header:{backgroundColor:"#fff",display:"flex",flexDirection:"column",alignItems:"center"},title:{fontSize:48,color:"#000",fontWeight:"bold",margin:12,transition:"0.2s"},titleShrunk:{fontSize:32}},k="Search",x="Trending",N=a(75),T=function(e,t){var a=Object(n.useState)(e),c=Object(p.a)(a,2),i=c[0],r=c[1];return Object(n.useEffect)((function(){var a=setTimeout((function(){r(e)}),t);return function(){clearTimeout(a)}}),[e,t]),i},L=function(e){return Object.keys(e).map((function(t){return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(e[t]))})).join("&")},C=Object(O.a)(_),D=function(){var e=C(_),t=Object(S.a)({disableHysteresis:!0,threshold:0}),a=T(t,125);return c.a.createElement(w.a,{position:"sticky",className:e.header,elevation:a?6:0},c.a.createElement(I.a,{className:Object(E.a)(e.title,a&&e.titleShrunk)},"Super GIF"))},R=a(23),M=a.n(R),A="EBwOiGqfDkDOzuwUQGL0sjsV2lP0rjI7",F="https://api.giphy.com/v1",G={search:"/gifs/search",trending:"/gifs/trending",trends:"/trending/searches",autocomplete:"/gifs/search/tags"},P=a(28),U=a(155),q=a(76),W=a.n(q),z=a(39),B=a.n(z),H=a(43),X=Object(O.a)((function(e){return{trendsContainer:Object(H.a)({transition:"0.2s",background:"#fff",display:"flex",flexDirection:"row",overflowX:"scroll"},e.breakpoints.up("sm"),{overflowX:"unset",flexWrap:"wrap",justifyContent:"center"}),chip:{display:"flex",flexDirection:"row",marginLeft:8,fontWeight:"800",marginBottom:8,fontSize:16,boxShadow:"0px 2px 4px -1px rgba(0,0,0,0.2), 0px 4px 5px 0px rgba(0,0,0,0.14), 0px 1px 10px 0px rgba(0,0,0,0.12);"},selectedChip:{border:"2px solid #1F4788",color:"#1F4788"},searchChip:{"& .MuiChip-label":{paddingLeft:"unset"}}}})),J=function(e){var t=X(),a=Object(u.c)((function(e){return e.trends})),n=e.selectedTrend,i=e.setTrend,r=e.setSearch,o=e.searchLabel,l=Object(S.a)({disableHysteresis:!0,threshold:0}),s=T(l,125);return c.a.createElement(w.a,{className:t.trendsContainer,elevation:0,position:"sticky",style:{top:s?71:96}},[k,x].concat(Object(P.a)(a.list)).map((function(e){return c.a.createElement(U.a,{label:e===k?o:e,icon:function(){switch(e){case k:return c.a.createElement(B.a,null);case x:return c.a.createElement(W.a,null);default:return}}(),key:e,onClick:e===k&&o?void 0:function(){e===k?r((function(e){return Object(h.a)(Object(h.a)({},e),{},{dialogOpen:!0})})):(i(e===x?null:e),r((function(e){return Object(h.a)(Object(h.a)({},e),{},{searchMode:!1})})))},clickable:!(e===k&&o),onDelete:e===k&&o?function(){r((function(e){return Object(h.a)(Object(h.a)({},e),{},{searchMode:!1})}))}:void 0,className:Object(E.a)(t.chip,(o?e===k:n===e||null===n&&e===x)&&t.selectedChip,e===k&&!o&&t.searchChip),color:"primary"})})))},V=a(153),Q=a(146),Z=a(154),$=a(147),K=a(148),Y=a(156),ee=function(e){var t={q:e,api_key:A},a=M.a.get("".concat(F).concat(G.autocomplete,"?").concat(L(t)));return function(t){t({type:"AUTOCOMPLETE_LOADING"}),a.then((function(a){var n=a.data;t({type:"AUTOCOMPLETE_RESPONSE",payload:{list:n.data,query:e}})}))}},te=function(){return function(e){return e({type:"CLEAR_AUTOCOMPLETE"})}},ae=Object(O.a)((function(){return{dialog:{display:"flex",flexDirection:"column",alignItems:"center"},searchField:{width:"100%",minWidth:275,fontWeight:"bold"},loader:{marginTop:16},list:{width:"100%"},suggestion:{display:"flex",jfd:"row",alignItems:"center"},searchIcon:{marginRight:8}}})),ne=function(e){var t=ae(),a=Object(u.c)((function(e){return e.autocomplete})),i=Object(u.b)(),r=e.config,o=e.setSearch,l=T(r.key,500);Object(n.useEffect)((function(){i((""===l?te:ee)(l||void 0))}),[i,l]);return c.a.createElement(V.a,{open:r.dialogOpen,onClose:function(){return o((function(e){return Object(h.a)(Object(h.a)({},e),{},{dialogOpen:!1})}))}},c.a.createElement(Q.a,{className:t.dialog},c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),o((function(e){return Object(h.a)(Object(h.a)({},e),{},{dialogOpen:!1,searchMode:!0})}))}},c.a.createElement(Z.a,{placeholder:"Search for GIFs",value:r.key,variant:"outlined",autoFocus:!0,className:t.searchField,onChange:function(e){e.persist(),o((function(t){return Object(h.a)(Object(h.a)({},t),{},{key:e.target.value})}))},endAdornment:c.a.createElement($.a,{type:"submit"},c.a.createElement(B.a,null))}),a.loading?c.a.createElement(b.a,{size:40,className:t.loader}):null,r.key&&a.query===r.key&&c.a.createElement(K.a,{className:t.list},[{name:r.key}].concat(Object(P.a)(a.list)).map((function(e){var a,n=e.name;return c.a.createElement(Y.a,{key:n,button:!0,divider:!0,onClick:(a=n,function(){o({key:a,dialogOpen:!1,searchMode:!0})}),className:t.suggestion},c.a.createElement(B.a,{className:t.searchIcon}),n)}))))))},ce=a(149),ie=a(150),re=a(151),oe=a(78),le=a.n(oe),se=a(77),ue=a.n(se),de=function(e){var t=Object(n.useState)(!1),a=Object(p.a)(t,2),i=a[0],r=a[1],o=e.classes,l=e.imageData,s=e.open,u=e.setDialog;return c.a.createElement(V.a,{open:s,onClose:function(){return u((function(e){return Object(h.a)(Object(h.a)({},e),{},{open:!1})}))}},l&&c.a.createElement(c.a.Fragment,null,c.a.createElement(j.Img,{src:l.images.original.url,loader:c.a.createElement(b.a,{style:{margin:"12px auto"}}),className:o.dialogImage}),c.a.createElement(ce.a,null,l.title),c.a.createElement(Q.a,null,l.source_tld&&c.a.createElement(ie.a,null,"".concat("Source",": ").concat(l.source_tld))),c.a.createElement(re.a,null,c.a.createElement(y.a,{startIcon:c.a.createElement(le.a,null),disabled:i,onClick:function(){r(!0),M()({url:"https://i.giphy.com/media".concat(l.images.original.url.split(".giphy.com/media")[1]),method:"GET",responseType:"blob"}).then((function(e){ue()(e.data,"".concat(l.id,".gif")),r(!1)}))}},"".concat("Download").concat(i?"ing":"")))))},me=Object(O.a)((function(){return{root:{width:"100vw",minHeight:"calc(100vh - 96px)",display:"flex",flexDirection:"column",alignItems:"center"},dialogImage:{width:"100%"},masonryContainer:{width:"100vw",display:"flex",flexDirection:"row",alignItems:"center"},masonry:{width:"90%",margin:"0 auto",display:"flex",flexDirection:"row",justifyContent:"stretch"},column:{minWidth:150,marginRight:12,flexGrow:1,"&:last-child":{marginRight:"unset"}},brick:{margin:"12px 0",width:"100%"},listImage:{width:"100%",borderRadius:3},loader:{margin:"0 auto"},invisible:{opacity:1}}})),fe=function(){var e=me(),t=Object(u.c)((function(e){return e.gifList})),a=Object(u.b)(),i=Object(n.useState)(null),r=Object(p.a)(i,2),o=r[0],l=r[1],s=Object(n.useState)(0),d=Object(p.a)(s,2),m=d[0],f=d[1],g=Object(n.useRef)(null);!function(e,t,a){var c=Object(n.useCallback)((function(e){new IntersectionObserver((function(e){e.forEach((function(e){e.intersectionRatio>t&&a((function(e){return e+1}))}))})).observe(e)}),[a,t]);Object(n.useEffect)((function(){e.current&&c(e.current)}),[c,e])}(g,0,f);var O=function(){var e="object"===typeof window;function t(){return{width:e?window.innerWidth:void 0,height:e?window.innerHeight:void 0}}var a=Object(n.useState)(t),c=Object(p.a)(a,2),i=c[0],r=c[1];return Object(n.useEffect)((function(){if(!e)return!1;function a(){r(t())}return window.addEventListener("resize",a),function(){return window.removeEventListener("resize",a)}}),[]),i}().width,j=Math.min(Math.floor(.9*O/162),6),y=Object(n.useMemo)((function(){return function(e,t,a){var n=[];return Array(a).fill().forEach((function(){n.push({height:0,list:[]})})),e.forEach((function(e){var a=n.reduce((function(e,t,a){return t.height<n[e].height?a:e}),0);n[a].list.push(e);var c=parseInt(Object(N.get)(e,t,200),10);n[a].height+=c})),n}(t.list,"images.fixed_width_downsampled.height",j)}),[t.list,j]),S=Object(n.useState)({key:"",dialogOpen:!1,searchMode:!1}),w=Object(p.a)(S,2),I=w[0],_=w[1],k=Object(n.useState)({imageData:null,open:!1}),x=Object(p.a)(k,2),T=x[0],C=x[1];return Object(n.useEffect)((function(){a(function(){var e={api_key:A},t=M.a.get("".concat(F).concat(G.trends,"?").concat(L(e)));return function(e){e({type:"TRENDS_LIST_LOADING"}),t.then((function(t){var a=t.data;e({type:"TRENDS_LIST_RESPONSE",payload:a})}))}}())}),[a]),Object(n.useEffect)((function(){a((function(e){return e({type:"CLEAR_GIF_LIST"})})),f(0)}),[a,o,I.searchMode]),Object(n.useEffect)((function(){a(function(e,t){var a=Object(h.a)(Object(h.a)({},t),{},{api_key:A}),n=M.a.get("".concat(F).concat(G[e],"?").concat(L(a)));return function(e){e({type:"GIF_LIST_LOADING"}),n.then((function(t){var a=t.data;e({type:"GIF_LIST_RESPONSE",payload:a})}))}}(o||I.searchMode?"search":"trending",Object(h.a)(Object(h.a)({limit:10,offset:10*m},o&&{q:o}),I.searchMode&&{q:I.key})))}),[a,o,m,I.searchMode]),c.a.createElement("div",{className:e.root},c.a.createElement(D,null),c.a.createElement(J,{selectedTrend:o,setTrend:l,setSearch:_,searchLabel:I.searchMode?I.key:""}),c.a.createElement("div",{className:e.masonryContainer},c.a.createElement("div",{className:e.masonry},y.map((function(t,a){return c.a.createElement("div",{className:e.column,key:"column".concat(a)},t.list.map((function(t){return c.a.createElement("div",{className:e.brick,key:t.id},c.a.createElement(v,{classes:e,imageData:t,setDialog:C}))})))})))),c.a.createElement(b.a,{ref:g,className:Object(E.a)(e.loader,!t.loading&&e.invisible)}),c.a.createElement(ne,{config:I,setSearch:_}),c.a.createElement(de,{imageData:T.imageData,open:T.open,setDialog:C,classes:e}))},ge=function(){return c.a.createElement(f.a,{basename:"/SuperGIF"},c.a.createElement(g.c,null,c.a.createElement(g.a,{exact:!0,path:"/",component:fe})))},he={loading:!1,list:[],pagination:{}},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0,a=t.payload;switch(t.type){case"GIF_LIST_LOADING":return Object(h.a)(Object(h.a)({},e),{},{loading:!0});case"GIF_LIST_RESPONSE":return{loading:!1,list:[].concat(Object(P.a)(e.list),Object(P.a)(a.data)),pagination:a.pagination};case"CLEAR_GIF_LIST":return Object(h.a)({},he);default:return e}},be={loading:!1,list:[]},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0,a=t.payload;switch(t.type){case"TRENDS_LIST_LOADING":return{loading:!0,list:[]};case"TRENDS_LIST_RESPONSE":return{loading:!1,list:a.data};default:return e}},Ee={loading:!1,list:[],query:""},je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0,a=t.payload;switch(t.type){case"AUTOCOMPLETE_LOADING":return Object(h.a)(Object(h.a)({},e),{},{loading:!0,list:[]});case"AUTOCOMPLETE_RESPONSE":return{loading:!1,list:a.list,query:a.query};case"CLEAR_AUTOCOMPLETE":return Ee;default:return e}},ye=Object(s.c)({gifList:pe,trends:Oe,autocomplete:je}),ve=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.d,Se=Object(s.e)(ye,ve(Object(s.a)(d.a))),we=Object(o.a)(m);r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(u.a,{store:Se},c.a.createElement(l.a,{theme:we},c.a.createElement(ge,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},87:function(e,t,a){e.exports=a(119)},92:function(e,t,a){}},[[87,1,2]]]);
//# sourceMappingURL=main.4c0810a6.chunk.js.map